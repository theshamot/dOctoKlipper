V// source: js/app/viewmodels/loginui.js\u000a/*\u000a * View model that takes care to redirect to / on logout in the regular\u000a * OctoPrint web application.\u000a */\u000a\u000a$(function () {\u000a    function LoginUiViewModel(parameters) {\u000a        var self = this;\u000a        self.loginState = parameters[0];\u000a        self.access = parameters[1];\u000a        self.coreWizardAcl = parameters[2];\u000a\u000a        self.onUserLoggedOut = self.onUserPermissionsChanged = function () {\u000a            // reload if user now lacks STATUS & SETTINGS_READ permissions and is not in first run setup, or is in\u000a            // first run setup but the ACL wizard has already run and ACL is active\u000a            if (\u000a                !self.loginState.hasAllPermissions(\u000a                    self.access.permissions.STATUS,\u000a                    self.access.permissions.SETTINGS_READ\u000a                ) &&\u000a                CONFIG_ACCESS_CONTROL_ACTIVE\u000a            ) {\u000a                location.reload();\u000a            }\u000a        };\u000a    }\u000a\u000a    OCTOPRINT_VIEWMODELS.push({\u000a        construct: LoginUiViewModel,\u000a        dependencies: [\u000a            "loginStateViewModel",\u000a            "accessViewModel",\u000a            "coreWizardAclViewModel"\u000a        ],\u000a        optional: ["coreWizardAclViewModel"]\u000a    });\u000a});\u000a\u000a;\u000a
p0
.