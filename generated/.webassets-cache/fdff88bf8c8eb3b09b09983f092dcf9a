V// source: js/lib/jquery/jquery.flot.crosshair.js\u000a/* Flot plugin for showing crosshairs when the mouse hovers over the plot.\u000a\u000aCopyright (c) 2007-2014 IOLA and Ole Laursen.\u000aLicensed under the MIT license.\u000a\u000aThe plugin supports these options:\u000a\u000a	crosshair: {\u000a		mode: null or "x" or "y" or "xy"\u000a		color: color\u000a		lineWidth: number\u000a	}\u000a\u000aSet the mode to one of "x", "y" or "xy". The "x" mode enables a vertical\u000acrosshair that lets you trace the values on the x axis, "y" enables a\u000ahorizontal crosshair and "xy" enables them both. "color" is the color of the\u000acrosshair (default is "rgba(170, 0, 0, 0.80)"), "lineWidth" is the width of\u000athe drawn lines (default is 1).\u000a\u000aThe plugin also adds four public methods:\u000a\u000a  - setCrosshair( pos )\u000a\u000a    Set the position of the crosshair. Note that this is cleared if the user\u000a    moves the mouse. "pos" is in coordinates of the plot and should be on the\u000a    form { x: xpos, y: ypos } (you can use x2/x3/... if you're using multiple\u000a    axes), which is coincidentally the same format as what you get from a\u000a    "plothover" event. If "pos" is null, the crosshair is cleared.\u000a\u000a  - clearCrosshair()\u000a\u000a    Clear the crosshair.\u000a\u000a  - lockCrosshair(pos)\u000a\u000a    Cause the crosshair to lock to the current location, no longer updating if\u000a    the user moves the mouse. Optionally supply a position (passed on to\u000a    setCrosshair()) to move it to.\u000a\u000a    Example usage:\u000a\u000a	var myFlot = $.plot( $("#graph"), ..., { crosshair: { mode: "x" } } };\u000a	$("#graph").bind( "plothover", function ( evt, position, item ) {\u000a		if ( item ) {\u000a			// Lock the crosshair to the data point being hovered\u000a			myFlot.lockCrosshair({\u000a				x: item.datapoint[ 0 ],\u000a				y: item.datapoint[ 1 ]\u000a			});\u000a		} else {\u000a			// Return normal crosshair operation\u000a			myFlot.unlockCrosshair();\u000a		}\u000a	});\u000a\u000a  - unlockCrosshair()\u000a\u000a    Free the crosshair to move again after locking it.\u000a*/\u000a\u000a(function ($) {\u000a    var options = {\u000a        crosshair: {\u000a            mode: null, // one of null, "x", "y" or "xy",\u000a            color: "rgba(170, 0, 0, 0.80)",\u000a            lineWidth: 1\u000a        }\u000a    };\u000a    \u000a    function init(plot) {\u000a        // position of crosshair in pixels\u000a        var crosshair = { x: -1, y: -1, locked: false };\u000a\u000a        plot.setCrosshair = function setCrosshair(pos) {\u000a            if (!pos)\u000a                crosshair.x = -1;\u000a            else {\u000a                var o = plot.p2c(pos);\u000a                crosshair.x = Math.max(0, Math.min(o.left, plot.width()));\u000a                crosshair.y = Math.max(0, Math.min(o.top, plot.height()));\u000a            }\u000a            \u000a            plot.triggerRedrawOverlay();\u000a        };\u000a        \u000a        plot.clearCrosshair = plot.setCrosshair; // passes null for pos\u000a        \u000a        plot.lockCrosshair = function lockCrosshair(pos) {\u000a            if (pos)\u000a                plot.setCrosshair(pos);\u000a            crosshair.locked = true;\u000a        };\u000a\u000a        plot.unlockCrosshair = function unlockCrosshair() {\u000a            crosshair.locked = false;\u000a        };\u000a\u000a        function onMouseOut(e) {\u000a            if (crosshair.locked)\u000a                return;\u000a\u000a            if (crosshair.x != -1) {\u000a                crosshair.x = -1;\u000a                plot.triggerRedrawOverlay();\u000a            }\u000a        }\u000a\u000a        function onMouseMove(e) {\u000a            if (crosshair.locked)\u000a                return;\u000a                \u000a            if (plot.getSelection && plot.getSelection()) {\u000a                crosshair.x = -1; // hide the crosshair while selecting\u000a                return;\u000a            }\u000a                \u000a            var offset = plot.offset();\u000a            crosshair.x = Math.max(0, Math.min(e.pageX - offset.left, plot.width()));\u000a            crosshair.y = Math.max(0, Math.min(e.pageY - offset.top, plot.height()));\u000a            plot.triggerRedrawOverlay();\u000a        }\u000a        \u000a        plot.hooks.bindEvents.push(function (plot, eventHolder) {\u000a            if (!plot.getOptions().crosshair.mode)\u000a                return;\u000a\u000a            eventHolder.mouseout(onMouseOut);\u000a            eventHolder.mousemove(onMouseMove);\u000a        });\u000a\u000a        plot.hooks.drawOverlay.push(function (plot, ctx) {\u000a            var c = plot.getOptions().crosshair;\u000a            if (!c.mode)\u000a                return;\u000a\u000a            var plotOffset = plot.getPlotOffset();\u000a            \u000a            ctx.save();\u000a            ctx.translate(plotOffset.left, plotOffset.top);\u000a\u000a            if (crosshair.x != -1) {\u000a                var adj = plot.getOptions().crosshair.lineWidth % 2 ? 0.5 : 0;\u000a\u000a                ctx.strokeStyle = c.color;\u000a                ctx.lineWidth = c.lineWidth;\u000a                ctx.lineJoin = "round";\u000a\u000a                ctx.beginPath();\u000a                if (c.mode.indexOf("x") != -1) {\u000a                    var drawX = Math.floor(crosshair.x) + adj;\u000a                    ctx.moveTo(drawX, 0);\u000a                    ctx.lineTo(drawX, plot.height());\u000a                }\u000a                if (c.mode.indexOf("y") != -1) {\u000a                    var drawY = Math.floor(crosshair.y) + adj;\u000a                    ctx.moveTo(0, drawY);\u000a                    ctx.lineTo(plot.width(), drawY);\u000a                }\u000a                ctx.stroke();\u000a            }\u000a            ctx.restore();\u000a        });\u000a\u000a        plot.hooks.shutdown.push(function (plot, eventHolder) {\u000a            eventHolder.unbind("mouseout", onMouseOut);\u000a            eventHolder.unbind("mousemove", onMouseMove);\u000a        });\u000a    }\u000a    \u000a    $.plot.plugins.push({\u000a        init: init,\u000a        options: options,\u000a        name: 'crosshair',\u000a        version: '1.0'\u000a    });\u000a})(jQuery);\u000a\u000a;\u000a
p0
.