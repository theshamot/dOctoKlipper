V// source: plugin/klipper/js/klipper_settings.js\u000a// <Octoprint Klipper Plugin>\u000a\u000a// This program is free software: you can redistribute it and/or modify\u000a// it under the terms of the GNU Affero General Public License as\u000a// published by the Free Software Foundation, either version 3 of the\u000a// License, or (at your option) any later version.\u000a \u000a// This program is distributed in the hope that it will be useful,\u000a// but WITHOUT ANY WARRANTY; without even the implied warranty of\u000a// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\u000a// GNU Affero General Public License for more details.\u000a \u000a// You should have received a copy of the GNU Affero General Public License\u000a// along with this program.  If not, see <https://www.gnu.org/licenses/>.\u000a\u000a$(function() {\u000a    $('#klipper-settings a:first').tab('show');\u000a    function KlipperSettingsViewModel(parameters) {\u000a        var self = this;\u000a        self.settings = parameters[0];\u000a\u000a        self.addMacro = function() {\u000a           self.settings.settings.plugins.klipper.macros.push({\u000a              name: 'Macro',\u000a              macro: '',\u000a              sidebar: true,\u000a              tab: true\u000a           });\u000a        }\u000a        \u000a        self.removeMacro = function(macro) {\u000a           self.settings.settings.plugins.klipper.macros.remove(macro);\u000a        }\u000a        \u000a        self.moveMacroUp = function(macro) {\u000a           self.moveItemUp(self.settings.settings.plugins.klipper.macros, macro)\u000a        }\u000a                \u000a        self.moveMacroDown = function(macro) {\u000a           self.moveItemDown(self.settings.settings.plugins.klipper.macros, macro)\u000a        }\u000a        \u000a        self.addProbePoint = function() {\u000a           self.settings.settings.plugins.klipper.probe.points.push(\u000a              {\u000a                 name: 'point-#',\u000a                 x:0, y:0, z:0\u000a              }\u000a           );\u000a        }\u000a        \u000a        self.removeProbePoint = function(point) {\u000a           self.settings.settings.plugins.klipper.probe.points.remove(point);\u000a        }\u000a        \u000a        self.moveProbePointUp = function(macro) {\u000a           self.moveItemUp(self.settings.settings.plugins.klipper.probe.points, macro)\u000a        }\u000a                \u000a        self.moveProbePointDown = function(macro) {\u000a           self.moveItemDown(self.settings.settings.plugins.klipper.probe.points, macro)\u000a        }\u000a        \u000a        self.moveItemDown = function(list, item) {\u000a           var i = list().indexOf(item);\u000a           if (i < list().length - 1) {\u000a               var rawList = list();\u000a              list.splice(i, 2, rawList[i + 1], rawList[i]);\u000a           }\u000a        }\u000a        \u000a        self.moveItemUp = function(list, item) {\u000a           var i = list().indexOf(item);\u000a           if (i > 0) {\u000a              var rawList = list();\u000a              list.splice(i-1, 2, rawList[i], rawList[i-1]);\u000a           }\u000a        }\u000a    }\u000a\u000a    OCTOPRINT_VIEWMODELS.push({\u000a        construct: KlipperSettingsViewModel,\u000a        dependencies: ["settingsViewModel"],\u000a        elements: ["#settings_plugin_klipper"]\u000a    });\u000a});\u000a\u000a;\u000a
p0
.