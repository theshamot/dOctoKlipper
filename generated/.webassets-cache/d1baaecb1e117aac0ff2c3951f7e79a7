V// source: plugin/taborder/js/bootstrap-tabdrop.js\u000a/* =========================================================\u000a * bootstrap-tabdrop.js\u000a * http://www.eyecon.ro/bootstrap-tabdrop\u000a * =========================================================\u000a * Copyright 2012 Stefan Petre\u000a * Copyright 2013 Jenna Schabdach\u000a * Copyright 2014 Jose Ant. Aranda\u000a *\u000a * Licensed under the Apache License, Version 2.0 (the "License");\u000a * you may not use this file except in compliance with the License.\u000a * You may obtain a copy of the License at\u000a *\u000a * http://www.apache.org/licenses/LICENSE-2.0\u000a *\u000a * Unless required by applicable law or agreed to in writing, software\u000a * distributed under the License is distributed on an "AS IS" BASIS,\u000a * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\u000a * See the License for the specific language governing permissions and\u000a * limitations under the License.\u000a * ========================================================= */\u000a\u000a!function ($) {\u000a\u000a	var WinResizer = (function () {\u000a		var registered = [];\u000a		var inited = false;\u000a		var timer;\u000a		var resize = function () {\u000a			clearTimeout(timer);\u000a			timer = setTimeout(notify, 100);\u000a		};\u000a		var notify = function () {\u000a			for (var i = 0, cnt = registered.length; i < cnt; i++) {\u000a				registered[i].apply();\u000a			}\u000a		};\u000a		return {\u000a			register: function (fn) {\u000a				registered.push(fn);\u000a				if (inited === false) {\u000a					$(window).on('resize', resize);\u000a					inited = true;\u000a				}\u000a			},\u000a			unregister: function (fn) {\u000a				var registeredFnIndex = registered.indexOf(fn);\u000a				if (registeredFnIndex > -1) {\u000a					registered.splice(registeredFnIndex, 1);\u000a				}\u000a			}\u000a		}\u000a	}());\u000a\u000a	var TabDrop = function (element, options) {\u000a		this.element = $(element);\u000a		this.options = options;\u000a\u000a		if (options.align === "left")\u000a			this.dropdown = $('<li class="dropdown hide pull-left tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="javascript:;"><span class="display-tab"></span><b class="caret"></b></a><ul class="dropdown-menu"></ul></li>');\u000a		else\u000a			this.dropdown = $('<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="javascript:;"><span class="display-tab"></span><b class="caret"></b></a><ul class="dropdown-menu"></ul></li>');\u000a\u000a		this.dropdown.prependTo(this.element);\u000a		if (this.element.parent().is('.tabs-below')) {\u000a			this.dropdown.addClass('dropup');\u000a		}\u000a\u000a		var boundLayout = $.proxy(this.layout, this);\u000a\u000a		WinResizer.register(boundLayout);\u000a		this.element.on('shown.bs.tab', function (e) {\u000a   		boundLayout();\u000a 		});\u000a\u000a		this.teardown = function () {\u000a			WinResizer.unregister(boundLayout);\u000a			this.element.off('shown.bs.tab', function (e) {\u000a				boundLayout();\u000a			});\u000a		};\u000a\u000a		this.layout();\u000a	};\u000a\u000a	TabDrop.prototype = {\u000a		constructor: TabDrop,\u000a\u000a		layout: function () {\u000a			var self = this;\u000a			var collection = [];\u000a			var isUsingFlexbox = function(el){\u000a				return el.element.css('display').indexOf('flex') > -1;\u000a			};\u000a\u000a			function setDropdownText(text) {\u000a				self.dropdown.find('a span.display-tab').html(text);\u000a			}\u000a\u000a			function setDropdownDefaultText(collection) {\u000a				var text;\u000a				if (jQuery.isFunction(self.options.text)) {\u000a					text = self.options.text(collection);\u000a				} else {\u000a					text = self.options.text;\u000a				}\u000a				setDropdownText(text);\u000a			}\u000a\u000a			// Flexbox support\u000a			function handleFlexbox(){\u000a				if (isUsingFlexbox(self)){\u000a					if (self.element.find('li.tabdrop').hasClass('pull-right')){\u000a						self.element.find('li.tabdrop').css({position: 'absolute', right: 0});\u000a						self.element.css('padding-right', self.element.find('.tabdrop').outerWidth(true));\u000a					}\u000a				}\u000a			}\u000a\u000a			function checkOffsetAndPush(recursion) {\u000a				self.element.find('> li:not(.tabdrop)')\u000a					.each(function () {\u000a						if (this.offsetTop > self.options.offsetTop) {\u000a							collection.push(this);\u000a						}\u000a						if(self.options.hidden.indexOf(this.id) > -1){\u000a							collection.push(this);\u000a						}\u000a					});\u000a\u000a				if (collection.length > 0) {\u000a					if (!recursion) {\u000a						self.dropdown.removeClass('hide');\u000a						self.dropdown.find('ul').empty();\u000a					}\u000a					self.dropdown.find('ul').prepend(collection);\u000a					\u000a					if (self.dropdown.find('.active').length == 1) {\u000a						self.dropdown.addClass('active');\u000a						setDropdownText(self.dropdown.find('.active > a').html());\u000a					} else {\u000a						self.dropdown.removeClass('active');\u000a						setDropdownDefaultText(collection);\u000a					}\u000a					handleFlexbox();\u000a					collection = [];\u000a					checkOffsetAndPush(true);\u000a				} else {\u000a					if (!recursion) {\u000a						self.dropdown.addClass('hide');\u000a					}\u000a				}\u000a			}\u000a\u000a			self.element.append(self.dropdown.find('li'));\u000a			checkOffsetAndPush();\u000a			self.element.trigger('tabdrop.layout.complete');\u000a		}\u000a	};\u000a\u000a	$.fn.tabdrop = function (option) {\u000a		return this.each(function () {\u000a			var $this = $(this),\u000a				data = $this.data('tabdrop'),\u000a				options = typeof option === 'object' && option;\u000a			if (!data) {\u000a				options = $.extend({}, $.fn.tabdrop.defaults, options);\u000a				data = new TabDrop(this, options);\u000a				$this.data('tabdrop', data);\u000a			}\u000a			if (typeof option == 'string') {\u000a				data[option]();\u000a			}\u000a		})\u000a	};\u000a\u000a	$.fn.tabdrop.defaults = {\u000a		text: '<i class="icon-align-justify"></i>',\u000a		offsetTop: 0,\u000a		hidden: []\u000a	};\u000a\u000a	$.fn.tabdrop.Constructor = TabDrop;\u000a\u000a}(window.jQuery);\u000a\u000a;\u000a
p0
.