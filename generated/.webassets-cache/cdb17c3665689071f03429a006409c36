V// source: plugin/PrintJobHistory/js/PrintJobHistory-StatisticDialog.js\u000a\u000afunction StatisticDialog(){\u000a\u000a    var self = this;\u000a\u000a    self.apiClient = null;\u000a\u000a    self.statisticDialog = null;\u000a    self.closeDialogHandler = null;\u000a\u000a    self.printJobCount = ko.observable();\u000a    self.query = ko.observable();\u000a    self.fromToDate = ko.observable();\u000a    self.duration = ko.observable();\u000a    self.usedLenght = ko.observable();\u000a    self.usedWeight = ko.observable();\u000a    self.fileSize = ko.observable();\u000a    self.printResults = ko.observable();\u000a    self.materials = ko.observable();\u000a    self.spools = ko.observable();\u000a\u000a    /////////////////////////////////////////////////////////////////////////////////////////////////// INIT\u000a\u000a    this.init = function(apiClient){\u000a        self.apiClient = apiClient;\u000a\u000a        self.statisticDialog = $("#dialog_printJobHistory_statistic");\u000a    }\u000a\u000a    this.isInitialized = function() {\u000a        return self.apiClient != null;\u000a    }\u000a\u000a    /////////////////////////////////////////////////////////////////////////////////////////////////// SHOW DIALOG\u000a    this.showDialog = function(tableQuery, closeDialogHandler){\u000a        self.tableQuery = tableQuery;\u000a        self.closeDialogHandler = closeDialogHandler;\u000a\u000a        self.statisticDialog.modal({\u000a            //minHeight: function() { return Math.max($.fn.modal.defaults.maxHeight() - 80, 250); }\u000a            keyboard: true,\u000a            clickClose: false,\u000a            showClose: false,\u000a            backdrop: true\u000a//            backdrop: "static"\u000a        }).css({\u000a            width: 'auto',\u000a            'margin-left': function() { return -($(this).width() /2); }\u000a        });\u000a\u000a//        self.busyIcon(true);\u000a        self.loadStatistics();\u000a    }\u000a\u000a    /////////////////////////////////////////////////////////////////////////////////////////////////// SOME FUNCTIONs\u000a    self.loadStatistics = function(){\u000a        self.apiClient.callLoadStatisticsByQuery(self.tableQuery, function(responseData){\u000a\u000a                self.printJobCount(responseData["printJobCount"]);\u000a                self.query(responseData["query"]);\u000a                self.fromToDate(responseData["fromToDate"]);\u000a                self.duration(responseData["duration"]);\u000a                self.usedLenght(responseData["usedLength"]);\u000a                self.usedWeight(responseData["usedWeight"]);\u000a                self.fileSize(responseData["fileSize"]);\u000a                self.printResults(responseData["printStatus"]);\u000a                self.materials(responseData["material"]);\u000a                self.spools(responseData["spools"]);\u000a\u000a            });\u000a    }\u000a\u000a    /////////////////////////////////////////////////////////////////////////////////////////////////// CLOSE\u000a    this.closeDialog  = function(){\u000a        self.statisticDialog.modal('hide');\u000a\u000a        self.closeDialogHandler();\u000a    }\u000a\u000a\u000a}\u000a\u000a;\u000a
p0
.